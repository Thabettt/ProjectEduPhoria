@using Microsoft.AspNetCore.Identity
@using System.Security.Claims
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@{
    ViewData["Title"] = "Home Page";
}

<h1>Welcome to the Home Page</h1>

@if (SignInManager.IsSignedIn(User))
{
    <p>User is signed in.</p>
    var user = await UserManager.GetUserAsync(User);
    var roles = await UserManager.GetRolesAsync(user);
    if (roles.Contains("Admin"))
    {
        <p>User is in Admin role.</p>
        <div class="manage-menu">
            <h3>Manage</h3>
            <ul>
                <li><a href="@Url.Action("ViewInstructors", "Admins")">View Instructors</a></li>
                <li><a href="@Url.Action("ViewLearners", "Admins")">View Learners</a></li>
            </ul>
        </div>
    }
    else
    {
        <p>User is not in Admin role.</p>
    }
}
else
{
    <p>User is not signed in.</p>
}